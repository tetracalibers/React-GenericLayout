{"version":3,"file":"OverlapLayer.stories.3f1185bb.js","sources":["../../src/components/OverlapLayer/Overlay.tsx","../../src/components/OverlapLayer/OverlayOrigin.tsx","../../src/components/OverlapLayer/index.tsx","../../src/components/OverlapLayer/model/upper.ts","../../src/stories/args/OverlapLayer.ts"],"sourcesContent":["import styled, { css } from 'styled-components'\nimport { UpperProps } from './model/upper'\n\nexport const Overlay = styled.div<UpperProps>`\n  --position: ${({ fixed }) => (fixed ? 'fixed' : 'absolute')};\n\n  && {\n    position: var(--position);\n    /* 左上の角が中央になるように配置 */\n    top: 50%;\n    left: 50%;\n    /* 要素の中央がコンテナの中央になるよう修正 */\n    transform: translate(-50%, -50%);\n\n    /* はみ出し対策 */\n    ${({ contain, marginV, marginU }) =>\n      contain &&\n      css`\n        /* 単位を含めないとcalc関数が無効になってしまう */\n        --margin: ${marginV}${marginU};\n\n        /* コンテンツが隠れてしまわないようスクロールバーを提供 */\n        overflow: auto;\n        /* marginも含めて高さと幅を制限 */\n        max-width: calc(100% - var(--margin) * 2);\n        max-height: calc(100% - var(--margin) * 2);\n      `}\n  }\n`\n","import styled from 'styled-components'\n\nexport const OverlayOrigin = styled.div`\n  position: relative;\n`\n","import {\n  PolymorphicComponentPropWithRef,\n  PolymorphicRef\n} from '@polym/react-props'\nimport { ElementType, forwardRef, ReactElement } from 'react'\nimport { UpperAllProps } from './model/upper'\nimport { Overlay } from './Overlay'\nimport { OverlayOrigin } from './OverlayOrigin'\n\ntype UpperComponent = <As extends ElementType>(\n  props: UpperAllProps<As>\n) => ReactElement | null\n\nconst _Upper = <As extends ElementType>(\n  { children, as, ...props }: UpperAllProps<As>,\n  ref: PolymorphicRef<As>\n) => {\n  return (\n    <Overlay as={as || 'div'} {...props} ref={ref}>\n      {children}\n    </Overlay>\n  )\n}\n\nconst Upper: UpperComponent = forwardRef(_Upper)\n\ntype RootProps<As extends ElementType> = PolymorphicComponentPropWithRef<As> & {\n  children: [ReactElement<any, typeof Upper>, ReactElement]\n}\n\nconst _OverlapLayer = <As extends ElementType>(\n  { children, as, ...props }: RootProps<As>,\n  ref: PolymorphicRef<As>\n) => {\n  return (\n    <OverlayOrigin as={as || 'div'} ref={ref} {...props}>\n      {children}\n    </OverlayOrigin>\n  )\n}\n\nexport const OverlapLayer = {\n  Origin: forwardRef(_OverlapLayer),\n  Upper\n}\n","import {\n  NotRequired,\n  CSSt,\n  getPropType,\n  getDefaultProps,\n  PolymorphicComponentPropWithRef\n} from '@polym/react-props'\nimport { ElementType } from 'react'\n\nconst conf = {\n  fixed: NotRequired<boolean>(false),\n  contain: NotRequired<boolean>(true),\n  marginV: NotRequired<number>(0),\n  marginU: NotRequired<CSSt.Unit.Length>('rem')\n}\n\nexport type UpperProps = getPropType<typeof conf>\n\nexport type UpperCoreProps<As extends ElementType> =\n  PolymorphicComponentPropWithRef<As>\n\nexport type UpperAllProps<As extends ElementType> = UpperProps &\n  UpperCoreProps<As>\n\nexport const defaultUpperProps = getDefaultProps<UpperProps>(conf)\n","import { CSSt } from '@polym/react-props'\nimport { desc_CSS } from '@polym/story-cssdata'\nimport { defaultUpperProps } from './../../components/OverlapLayer/model/upper'\n\nexport const desc_OverlapLayerProps = {\n  fixed: {\n    ...desc_CSS.position,\n    control: {\n      type: 'boolean'\n    },\n    description:\n      'Whether to fix to the center of the screen and follow scrolling or not',\n    table: {\n      ...desc_CSS.position.table,\n      defaultValue: {\n        summary: defaultUpperProps.fixed,\n        details: null\n      }\n    }\n  },\n  contain: {\n    control: {\n      type: 'boolean'\n    },\n    description:\n      'Whether to guarantee that the layer above will not extend beyond the area of the layer below',\n    table: {\n      type: {\n        summary: null\n      },\n      category: 'style',\n      defaultValue: {\n        summary: defaultUpperProps.contain,\n        details: null\n      }\n    }\n  },\n  marginV: {\n    ...desc_CSS.margin,\n    control: {\n      type: 'number'\n    },\n    description:\n      'A number indicating the minimum margin between the four edges of the lower layer and the four edges of the upper layer',\n    table: {\n      ...desc_CSS.margin.table,\n      defaultValue: {\n        summary: defaultUpperProps.marginV,\n        details: null\n      }\n    }\n  },\n  marginU: {\n    ...desc_CSS.margin,\n    control: {\n      type: 'select'\n    },\n    options: CSSt.Unit.length,\n    description: 'Unit of the number specified by marginValue',\n    table: {\n      ...desc_CSS.margin.table,\n      defaultValue: {\n        summary: defaultUpperProps.marginU,\n        details: null\n      }\n    }\n  }\n}\n"],"names":["Overlay","styled","div","fixed","contain","marginV","css","OverlayOrigin","_Upper","children","as","props","ref","Upper","forwardRef","_OverlapLayer","OverlapLayer","Origin","conf","NotRequired","defaultUpperProps","getDefaultProps","desc_OverlapLayerProps","desc_CSS","CSSt"],"mappings":"sPAGO,MAAAA,EAAAC,EAAA;AAAA,gBAAuBC,CAAAA,CACb,MAAAC,CAAA,IAAAA,EAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAiC,CAAA,CAW3C,QAAAC,EAAEA,QAAAA,EAASC,QAAAA,CAAX,IAAAD,GAAAE;AAAAA;AAAAA,oBAEDA,IAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,y1CCfC,MAAAC,EAAAN,EAAA;AAAA;AAAA,ywBCWP,MAAMO,EAAS,CACb,CAAEC,SAAAA,EAAUC,GAAAA,KAAOC,CAAnB,EACAC,MAGGZ,EAAD,CAAS,GAAIU,GAAM,MAAnB,GAA8BC,EAAO,IAAAC,EAArC,SAAAH,CAAA,CADF,EAOII,EAAwBC,EAAAA,QAAAA,WAAWN,CAAD,EAMlCO,EAAgB,CACpB,CAAEN,SAAAA,EAAUC,GAAAA,KAAOC,CAAnB,EACAC,MAGGL,EAAD,CAAe,GAAIG,GAAM,MAAO,IAAAE,EAAhC,GAA8CD,EAA9C,SAAAF,CAAA,CADF,EAOWO,EAAe,CAC1BC,OAAQH,qBAAWC,CAAD,EAClBF,MAAAA,CAF0B,EChCtBK,EAAO,CACX,MAAOC,EAAqB,EAAK,EACjC,QAASA,EAAqB,EAAI,EAClC,QAASA,EAAoB,CAAC,EAC9B,QAASA,EAA8B,KAAK,CAC9C,EAUaC,EAAoBC,EAA4BH,CAAI,ECpBpDI,EAAyB,CACpC,MAAO,CACL,GAAGC,EAAS,SACZ,QAAS,CACP,KAAM,SACR,EACA,YACE,yEACF,MAAO,CACL,GAAGA,EAAS,SAAS,MACrB,aAAc,CACZ,QAASH,EAAkB,MAC3B,QAAS,IACX,CACF,CACF,EACA,QAAS,CACP,QAAS,CACP,KAAM,SACR,EACA,YACE,+FACF,MAAO,CACL,KAAM,CACJ,QAAS,IACX,EACA,SAAU,QACV,aAAc,CACZ,QAASA,EAAkB,QAC3B,QAAS,IACX,CACF,CACF,EACA,QAAS,CACP,GAAGG,EAAS,OACZ,QAAS,CACP,KAAM,QACR,EACA,YACE,yHACF,MAAO,CACL,GAAGA,EAAS,OAAO,MACnB,aAAc,CACZ,QAASH,EAAkB,QAC3B,QAAS,IACX,CACF,CACF,EACA,QAAS,CACP,GAAGG,EAAS,OACZ,QAAS,CACP,KAAM,QACR,EACA,QAASC,EAAK,KAAK,OACnB,YAAa,8CACb,MAAO,CACL,GAAGD,EAAS,OAAO,MACnB,aAAc,CACZ,QAASH,EAAkB,QAC3B,QAAS,IACX,CACF,CACF,CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}